(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{14:function(t,e,s){},15:function(t,e,s){},16:function(t,e,s){},17:function(t,e,s){"use strict";s.r(e);var i=s(0),n=s(1),a=s.n(n),l=s(4),c=s.n(l),o=(s(14),s(5)),r=s(6),d=s(2),h=s(8),u=s(7),m=(s(15),s(16),100);function f(){return m+=1}function v(t){return"initial"===t.displayMode?Object(i.jsx)("button",{className:t.displayMode,onClick:function(){return t.handleClick(t.row,t.col)},onContextMenu:function(e){t.rtClick(t.row,t.col),e.preventDefault()}},f()):"clicked"===t.displayMode?Object(i.jsx)("button",{className:t.displayMode+" color"+t.numMines,onContextMenu:function(t){return t.preventDefault()},children:t.numMines},f()):"empty"===t.displayMode?Object(i.jsx)("button",{className:t.displayMode,onClick:function(){return t.handleClick(t.row,t.col)},onContextMenu:function(t){return t.preventDefault()}},f()):"rtClicked"===t.displayMode?Object(i.jsx)("button",{className:t.displayMode,onClick:function(){return t.handleClick(t.row,t.col)},onContextMenu:function(e){t.rtClick(t.row,t.col),e.preventDefault()}},f()):"explosion"===t.displayMode||"mine"===t.displayMode||"gameover"===t.displayMode?Object(i.jsx)("button",{className:t.displayMode,onContextMenu:function(t){return t.preventDefault()}},f()):void 0}function M(t){for(var e=[],s={display:"flex"},n=0;n<10;n++)e.push(Object(i.jsx)(v,{style:s,row:t.row,col:n,handleClick:t.handleClick,rtClick:t.rtClick,displayMode:t.displayMode[n],numMines:t.numMines[n]},n));return Object(i.jsx)("div",{style:s,children:e})}function p(t){for(var e=[],s=0;s<10;s++)e.push(Object(i.jsx)(M,{row:s,handleClick:t.handleClick,rtClick:t.rtClick,displayMode:t.displayMode[s],numMines:t.numMines[s]},s));return Object(i.jsx)("div",{children:e})}function j(t,e,s){return 0===t&&0===e?[[0,1],[1,0],[1,1]]:t===s&&0===e?[[t-1,0],[t-1,e+1],[t,e+1]]:0===t&&e===s?[[0,e-1],[t+1,e-1],[t+1,e]]:t===s&&e===s?[[t-1,e],[t-1,e-1],[t,e-1]]:0===t?[[0,e-1],[0,e+1],[1,e-1],[1,e],[1,e+1]]:0===e?[[t+1,0],[t-1,0],[t-1,1],[t,1],[t+1,1]]:t===s?[[t,e-1],[t,e+1],[t-1,e-1],[t-1,e],[t-1,e+1]]:e===s?[[t-1,e],[t+1,e],[t-1,e-1],[t,e-1],[t+1,e-1]]:[[t-1,e-1],[t-1,e],[t-1,e+1],[t,e-1],[t,e+1],[t+1,e-1],[t+1,e],[t+1,e+1]]}function C(t){for(var e=[];e.length<t;){var s=Math.floor(10*Math.random()),i=Math.floor(10*Math.random());e.push([s,i]);for(var n=0;n<=e.length-2;n++)e[n][0]===s&&e[n][1]===i&&e.pop()}return e}var k=function(t){Object(h.a)(s,t);var e=Object(u.a)(s);function s(t){var i;Object(o.a)(this,s),(i=e.call(this,t)).handleClick=i.handleClick.bind(Object(d.a)(i)),i.rtClick=i.rtClick.bind(Object(d.a)(i));for(var n={isMine:!1,isClicked:!1,isRtClicked:!1},a=[],l=[],c=[],r=[],h=[],u=[],m=0;m<10;m++)u.push(JSON.parse(JSON.stringify(n))),c.push(JSON.parse(JSON.stringify("initial"))),l.push(0);for(var f=0;f<10;f++)h[f]=JSON.parse(JSON.stringify(u)),r[f]=JSON.parse(JSON.stringify(c)),a[f]=JSON.parse(JSON.stringify(l));for(var v=C(10),M=0;M<v.length;M++){var p=v[M][0],k=v[M][1];h[p][k].isMine=!0}for(var g=0;g<v.length;g++)for(var y=j(v[g][0],v[g][1],9),b=0;b<y.length;b++){var O=y[b][0],x=y[b][1];!1===h[O][x].isMine&&(a[O][x]+=1)}return i.state={cells:h,mode:r,numMines:a,minesTagged:0,totalMines:10,winState:0},i}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(t,e){e.totalMines!==this.state.totalMines&&this.restart(this.state.totalMines)}},{key:"handleClick",value:function(t,e){if(!0!==this.state.cells[t][e].isRtClicked){if(this.state.cells[t][e].isClicked=!0,!0===this.state.cells[t][e].isClicked&&!0===this.state.cells[t][e].isMine?(this.state.mode[t][e]="explosion",this.setState({cells:this.state.cells,mode:this.state.mode}),this.youLost()):!1===this.state.cells[t][e].isMine&&0===this.state.numMines[t][e]?this.state.mode[t][e]="empty":this.state.mode[t][e]="clicked",this.setState({cells:this.state.cells,mode:this.state.mode}),"empty"===this.state.mode[t][e])for(var s=j(t,e,9),i=0;i<s.length;i++){var n=s[i][0],a=s[i][1];this.state.cells[n][a].isClicked=!0,0===this.state.numMines[n][a]?this.state.mode[n][a]="empty":this.state.mode[n][a]="clicked"}this.setState({cells:this.state.cells,mode:this.state.mode}),!0===this.victoryConditions()&&this.setState({winState:1})}}},{key:"rtClick",value:function(t,e){!0!==this.state.cells[t][e].isClicked&&(this.state.cells[t][e].isRtClicked=!this.state.cells[t][e].isRtClicked,!0===this.state.cells[t][e].isRtClicked?(this.state.mode[t][e]="rtClicked",this.state.minesTagged=this.state.minesTagged+1):(this.state.mode[t][e]="initial",this.state.minesTagged=this.state.minesTagged-1),this.setState({cells:this.state.cells,mode:this.state.mode,minesTagged:this.state.minesTagged}))}},{key:"handleChange",value:function(t){window.confirm("This will reset the current game. Are you sure?")&&this.setState({totalMines:parseInt(t)})}},{key:"victoryConditions",value:function(){for(var t=0;t<10;t++)for(var e=0;e<10;e++)if(!1===this.state.cells[t][e].isMine&&!1===this.state.cells[t][e].isClicked)return!1;return!0}},{key:"youLost",value:function(){for(var t=0;t<10;t++)for(var e=0;e<10;e++)!0===this.state.cells[t][e].isMine&&!1===this.state.cells[t][e].isClicked?this.state.mode[t][e]="mine":"initial"===this.state.mode[t][e]&&(this.state.mode[t][e]="gameover");this.setState({cells:this.state.cells,mode:this.state.mode,winState:2})}},{key:"restart",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=0;e<10;e++)for(var s=0;s<10;s++)this.state.cells[e][s].isMine=!1,this.state.cells[e][s].isClicked=!1,this.state.cells[e][s].isRtClicked=!1,this.state.mode[e][s]="initial",this.state.numMines[e][s]=0;this.setState({cells:this.state.cells,mode:this.state.mode,numMines:this.state.numMines,minesTagged:0,totalMines:t,winState:0}),console.log(this.state);for(var i=C(parseInt(this.state.totalMines)),n=0;n<i.length;n++){var a=i[n][0],l=i[n][1];this.state.cells[a][l].isMine=!0}for(var c=0;c<i.length;c++)for(var o=i[c][0],r=i[c][1],d=j(o,r,9),h=0;h<d.length;h++){var u=d[h][0],m=d[h][1];!1===this.state.cells[u][m].isMine&&(this.state.numMines[u][m]+=1)}this.setState({cells:this.state.cells,mode:this.state.mode,numMines:this.state.numMines})}},{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{className:"gameContainer",children:[Object(i.jsxs)("div",{className:"gameHeader",children:[Object(i.jsxs)("div",{className:"scoreCount",children:["Mines",Object(i.jsx)("div",{className:"numDisplay",children:this.state.totalMines})]}),Object(i.jsxs)("div",{className:"scoreCount",children:["Marked",Object(i.jsx)("div",{className:"numDisplay",children:this.state.minesTagged})]})]}),Object(i.jsx)(p,{handleClick:this.handleClick,rtClick:this.rtClick,displayMode:this.state.mode,numMines:this.state.numMines}),Object(i.jsxs)("div",{className:"menu",children:[Object(i.jsx)("button",{className:"restart",onClick:function(){return t.restart(t.state.totalMines)},children:"Restart"}),Object(i.jsxs)("figure",{children:[Object(i.jsx)("figcaption",{children:"Difficulty:"}),Object(i.jsxs)("select",{name:"difficulty",value:this.state.value,onChange:function(e){return t.handleChange(e.target.value)},children:[Object(i.jsx)("option",{value:"10",children:"Easy"}),Object(i.jsx)("option",{value:"15",children:"Not Easy"}),Object(i.jsx)("option",{value:"20",children:"Impossible"})]})]})]}),Object(i.jsx)("div",{className:"message",children:this.state.winState>0?1===this.state.winState?"You Win":"You Lose":""})]})}}]),s}(n.Component),g=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,18)).then((function(e){var s=e.getCLS,i=e.getFID,n=e.getFCP,a=e.getLCP,l=e.getTTFB;s(t),i(t),n(t),a(t),l(t)}))};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(k,{})}),document.getElementById("root")),g()}},[[17,1,2]]]);
//# sourceMappingURL=main.62d6ceb3.chunk.js.map